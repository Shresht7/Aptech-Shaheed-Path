---
import FormHeader from "./FormHeader.astro";
import FormInputs from "./FormInputs.astro";
import FormButtons from "./FormButtons.astro";
import Section from "../utility/Section.astro";
//  Components
---

<Section classNames="form-section-background inverted">
    <form id="contact-form" class="container">
        <FormHeader />
        <FormInputs />
        <FormButtons />
    </form>
</Section>

<style>
    :global(.form-section-background) {
        background-color: var(--color-aptech-gold);
        padding: 5rem 0;
        overflow: hidden;
    }

    #contact-form {
        max-width: 33rem;
        margin: 0 auto;
    }

    form {
        width: 100%;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        align-items: center;
        gap: 2rem;
        position: relative;
        z-index: 1;
    }

    form::before {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        scale: 9 3;
        rotate: -60deg;
        z-index: -1;
        background-color: var(--color-bg);
        outline: 4px solid var(--color-aptech-gold);
        outline-offset: -8px;
    }
</style>

<script>
    const form = document.getElementById("contact-form") as HTMLFormElement;
    form.addEventListener("submit", async (e: SubmitEvent) => {
        e.preventDefault();
        const res = await fetch("/api/contact-form-submission", {
            method: "POST",
            body: "hello world",
        });
        console.log(res);
    });
</script>
